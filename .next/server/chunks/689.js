"use strict";exports.id=689,exports.ids=[689],exports.modules={1689:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{cf:()=>x,rJ:()=>h});var o=r(997),n=r(1664),a=r.n(n),i=r(833),l=r(6689),c=r(955),d=r(1163),p=e([c]);c=(p.then?(await p)():p)[0];let g=e=>o.jsx("svg",{viewBox:"0 0 48 48",...e,children:(0,o.jsxs)("g",{children:[o.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),o.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),o.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),o.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),o.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),h=()=>{let e=(0,d.useRouter)(),t=(0,c.w)(e=>e.loggedIn)?"HIDDEN":"login"in e.query?"LOGIN":"sign-up"in e.query?"SIGNUP":"HIDDEN",[r,s]=(0,l.useState)(t);return(0,l.useEffect)(()=>s(t),[t]),{loginScreenState:r,setLoginScreenState:s}},x=({loginScreenState:e,setLoginScreenState:t})=>{let[r,s]=(0,l.useState)(""),[n,p]=(0,l.useState)(""),[h,x]=(0,l.useState)(""),u=(0,d.useRouter)(),b=(0,c.w)(e=>e.loggedIn);(0,c.w)(e=>e.logIn),(0,c.w)(e=>e.setUsername),(0,c.w)(e=>e.setName);let[y,m]=(0,l.useState)(!1),f=(0,l.useRef)(null);(0,l.useEffect)(()=>{"HIDDEN"!==e&&b&&t("HIDDEN")},[e,b,t]);let N=async()=>{try{let e=await fetch("http://localhost:8080/account/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:n})});if(!e.ok)throw Error("Đăng nhập thất bại!");let{jwt:t}=await e.json();localStorage.setItem("token",t),console.log("success"),x("Đăng nhập th\xe0nh c\xf4ng!"),u.push("/learn")}catch(e){console.error("Đăng nhập thất bại: ",e),x("Đăng nhập thất bại. Vui l\xf2ng kiểm tra lại t\xean đăng nhập v\xe0 mật khẩu.")}};return(0,o.jsxs)("article",{className:["fixed inset-0 z-30 flex flex-col bg-white p-7 transition duration-300","HIDDEN"===e?"pointer-events-none opacity-0":"opacity-100"].join(" "),"aria-hidden":!e,children:[(0,o.jsxs)("header",{className:"flex flex-row-reverse justify-between sm:flex-row",children:[(0,o.jsxs)("button",{className:"flex text-gray-400",onClick:()=>t("HIDDEN"),children:[o.jsx(i.sZ,{}),o.jsx("span",{className:"sr-only"})]}),o.jsx("button",{className:"hidden rounded-2xl border-2 border-b-4 border-gray-200 px-4 py-3 text-sm font-bold uppercase text-blue-400 transition hover:bg-gray-50 hover:brightness-90 sm:block",onClick:()=>t(e=>"LOGIN"===e?"SIGNUP":"LOGIN"),children:"LOGIN"===e?"Sign up":"Login"})]}),o.jsx("div",{className:"flex grow items-center justify-center",children:(0,o.jsxs)("div",{className:"flex w-full flex-col gap-5 sm:w-96",children:[o.jsx("h2",{className:"text-center text-2xl font-bold text-gray-800",children:"LOGIN"===e?"Đăng nhập":"Tạo t\xe0i khoản"}),(0,o.jsxs)("div",{className:"flex flex-col gap-2 text-black",children:["SIGNUP"===e&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"relative flex grow",children:[o.jsx("input",{className:"grow rounded-2xl border-2 border-gray-200 bg-gray-50 px-4 py-3",placeholder:"Age (optional)"}),o.jsx("div",{className:"absolute bottom-0 right-0 top-0 flex items-center justify-center pr-4",children:(0,o.jsxs)("div",{className:"relative flex h-6 w-6 cursor-pointer items-center justify-center rounded-full border-2 border-gray-200 text-gray-400",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onClick:()=>m(e=>!e),role:"button",tabIndex:0,"aria-label":"Tại sao bạn cần độ tuổi?",children:["?",y&&(0,o.jsxs)("div",{className:"absolute -right-5 top-full z-10 w-72 rounded-2xl border-2 border-gray-200 bg-white p-4 text-center text-xs leading-5 text-gray-800",children:["Cung cấp độ tuổi của bạn để đảm bảo bạn c\xf3 được trải nghiệm Duolingo ph\xf9 hợp. Để biết th\xeam chi tiết, vui l\xf2ng truy cập"," ",o.jsx(a(),{href:"https://www.privacy",className:"text-blue-700",children:"Ch\xednh s\xe1ch bảo mật"})]})]})})]}),o.jsx("input",{className:"grow rounded-2xl border-2 border-gray-200 bg-gray-50 px-4 py-3",placeholder:"Name (optional)",ref:f})]}),o.jsx("input",{className:"grow rounded-2xl border-2 border-gray-200 bg-gray-50 px-4 py-3",placeholder:"LOGIN"===e?"Email hoặc t\xean đăng nhập":"Email",value:r,onChange:e=>s(e.target.value),autoFocus:!0}),(0,o.jsxs)("div",{className:"relative flex grow",children:[o.jsx("input",{className:"grow rounded-2xl border-2 border-gray-200 bg-gray-50 px-4 py-3",placeholder:"Mật khẩu ",type:"password",value:n,onChange:e=>p(e.target.value)}),"LOGIN"===e&&o.jsx("div",{className:"absolute bottom-0 right-0 top-0 flex items-center justify-center pr-5",children:o.jsx(a(),{className:"font-bold uppercase text-gray-400 hover:brightness-75",href:"/forgot-password",children:"Qu\xean mật khẩu?"})})]})]}),o.jsx("button",{className:"rounded-2xl border-b-4 border-blue-500 bg-blue-400 py-3 font-bold uppercase text-white transition hover:brightness-110",onClick:N,children:"LOGIN"===e?"Đăng nhập":"Tạo t\xe0i khoản"}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-[2px] grow bg-gray-300"}),o.jsx("span",{className:"font-bold uppercase text-gray-400",children:"or"}),o.jsx("div",{className:"h-[2px] grow bg-gray-300"})]}),o.jsx("div",{className:"flex gap-5",children:(0,o.jsxs)("button",{className:"flex w-full items-center justify-center gap-2 rounded-2xl border-2 border-b-4 border-gray-200 py-3 font-bold text-blue-600 transition hover:bg-gray-50 hover:brightness-90",onClick:N,children:[o.jsx(g,{className:"h-5 w-5"})," Google"]})}),(0,o.jsxs)("p",{className:"text-center text-xs leading-5 text-gray-400",children:["Bằng c\xe1ch đăng nhập v\xe0o Duolingo, bạn đồng \xfd với"," ",o.jsx(a(),{className:"font-bold",href:"https://www.duolingo.com/terms?wantsPlainInfo=1",children:"Điều khoản"})," ","v\xe0"," ",o.jsx(a(),{className:"font-bold",href:"https://www.duolingo.com/privacy?wantsPlainInfo=1",children:"Ch\xednh s\xe1ch bảo mật"}),"."]}),(0,o.jsxs)("p",{className:"text-center text-xs leading-5 text-gray-400",children:["Trang web n\xe0y được bảo vệ bởi reCAPTCHA Enterprise v\xe0 Google"," ",o.jsx(a(),{className:"font-bold",href:"https://policies.google.com/privacy",children:"Ch\xednh s\xe1ch bảo mật"})," ","and"," ",o.jsx(a(),{className:"font-bold",href:"https://policies.google.com/terms",children:"Điều khoản v\xe0 dịch vụ"})," ","\xe1p dụng."]}),(0,o.jsxs)("p",{className:"block text-center sm:hidden",children:[o.jsx("span",{className:"text-sm font-bold text-gray-700",children:"LOGIN"===e?"Kh\xf4ng c\xf3 t\xe0i khoản?":"Đ\xe3 c\xf3 t\xe0i khoản?"})," ",o.jsx("button",{className:"text-sm font-bold uppercase text-blue-400",onClick:()=>t(e=>"LOGIN"===e?"SIGNUP":"LOGIN"),children:"LOGIN"===e?"sign up":"log in"})]})]})})]})};s()}catch(e){s(e)}})},955:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{w:()=>x});var o=r(6912),n=r(452),a=r(4803),i=r(8879),l=r(6994),c=r(6822),d=r(9619),p=r(6475),g=r(813),h=e([o]);o=(h.then?(await h)():h)[0];let x=(0,o.create)((...e)=>({...(0,n.u)(...e),...(0,a.T)(...e),...(0,i.O)(...e),...(0,l.C)(...e),...(0,c.H)(...e),...(0,d.A)(...e),...(0,p.Q)(...e),...(0,g.v)(...e)}));s()}catch(e){s(e)}})},452:(e,t,r)=>{r.d(t,{u:()=>s});let s=e=>({goalXp:10,setGoalXp:t=>e({goalXp:t})})},4803:(e,t,r)=>{r.d(t,{T:()=>o});var s=r(9873);let o=e=>({language:s.Z[2],setLanguage:t=>e({language:t})})},8879:(e,t,r)=>{r.d(t,{O:()=>o});let s=[{unitNumber:1,description:"Form basic sentences, greet people",backgroundColor:"bg-[#58cc02]",textColor:"text-[#58cc02]",borderColor:"border-[#46a302]",tiles:[{type:"star",description:"Form basic sentences"},{type:"book",description:"Good morning"},{type:"star",description:"Greet people"},{type:"treasure"},{type:"book",description:"A date"},{type:"trophy",description:"Unit 1 review"}]},{unitNumber:2,description:"Get around in a city",backgroundColor:"bg-[#ce82ff]",textColor:"text-[#ce82ff]",borderColor:"border-[#a568cc]",tiles:[{type:"fast-forward",description:"Get around in a city"},{type:"dumbbell",description:"Personalized practice"},{type:"book",description:"One thing"},{type:"treasure"},{type:"star",description:"Get around in a city"},{type:"book",description:"A very big family"},{type:"star",description:"Greet people"},{type:"book",description:"The red jacket"},{type:"treasure"},{type:"dumbbell",description:"Personalized practice"},{type:"trophy",description:"Unit 2 review"}]},{unitNumber:3,description:"Order food and drink",backgroundColor:"bg-[#00cd9c]",textColor:"text-[#00cd9c]",borderColor:"border-[#00a47d]",tiles:[{type:"fast-forward",description:"Order food and drink"},{type:"book",description:"The passport"},{type:"star",description:"Order food and drinks"},{type:"treasure"},{type:"book",description:"The honeymoon"},{type:"star",description:"Get around in a city"},{type:"treasure"},{type:"dumbbell",description:"Personalized practice"},{type:"book",description:"Doctor Eddy"},{type:"trophy",description:"Unit 2 review"}]}],o=e=>({lessonsCompleted:0,increaseLessonsCompleted:(t=1)=>e(({lessonsCompleted:e})=>({lessonsCompleted:e+t})),jumpToUnit:t=>e(({lessonsCompleted:e})=>({lessonsCompleted:Math.max(e,s.filter(e=>e.unitNumber<t).map(e=>4*e.tiles.length).reduce((e,t)=>e+t,0))}))})},6994:(e,t,r)=>{r.d(t,{C:()=>s});let s=e=>({lingots:0,increaseLingots:t=>e(({lingots:e})=>({lingots:e+t}))})},6822:(e,t,r)=>{r.d(t,{H:()=>s});let s=e=>({soundEffects:!0,speakingExercises:!0,listeningExercises:!0,setSoundEffects:t=>e(()=>({soundEffects:t})),setSpeakingExercises:t=>e(()=>({speakingExercises:t})),setListeningExercises:t=>e(()=>({listeningExercises:t}))})},9619:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(1635),o=r.n(s),n=r(2138);let a=(e,t)=>new Set([...e,(0,n.t)(t)]),i=(e,t)=>e.has((0,n.t)(t)),l=e=>{let t=0,r=o()();for(;i(e,r);)r=r.add(-1,"day"),t+=1;return t},c=(e,t)=>({activeDays:new Set,streak:0,isActiveDay:e=>i(t().activeDays,e),addToday:()=>{let r=a(t().activeDays,o()());e({activeDays:r,streak:l(r)})}})},6475:(e,t,r)=>{r.d(t,{Q:()=>n});var s=r(1635),o=r.n(s);let n=e=>({name:"",username:"",joinedAt:o()(),loggedIn:!1,setName:t=>e(()=>({name:t})),setUsername:t=>e(()=>({username:t})),logIn:()=>e(()=>({loggedIn:!0})),logOut:()=>e(()=>({loggedIn:!1}))})},813:(e,t,r)=>{r.d(t,{v:()=>d});var s=r(1635),o=r.n(s),n=r(2138),a=r(5584);let i=(e,t)=>l(e,t,o()()),l=(e,t,r)=>({...e,[(0,n.t)(r)]:c(e,r)+t}),c=(e,t)=>e[(0,n.t)(t)]??0,d=(e,t)=>({xpByDate:{},increaseXp:r=>e({xpByDate:i(t().xpByDate,r)}),xpToday:()=>c(t().xpByDate,o()()),xpThisWeek:()=>(0,a.S)((0,a.w)(0,o()().day()+1).map(e=>c(t().xpByDate,o()().add(-e))))})},5584:(e,t,r)=>{r.d(t,{S:()=>o,w:()=>s});let s=(e,t)=>{let r=Array(t-e);for(let s=e;s<t;s++)r[s-e]=s;return r},o=e=>{let t=0;for(let r of e)t+=r;return t}},2138:(e,t,r)=>{r.d(t,{t:()=>s});let s=e=>e.format("YYYY-MM-DD")}};