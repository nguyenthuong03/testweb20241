"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{8778:function(e,t,r){r.d(t,{z:function(){return d}});var s=r(5893),n=r(7294),l=r(1465),a=r(2003),o=r(4777);let i=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-bold ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 uppercase tracking-wide",{variants:{variant:{locked:"bg-neutral-200 text-primary-foreground hover:bg-neutral-200/90 border-neutral-400 border-b-4 active:border-b-0",default:"bg-white text-black border-slate-200 border-2 border-b-4 active:border-b-2 hover:bg-slate-100 text-slate-500",primary:"bg-sky-400 text-primary-foreground hover:bg-sky-400/90 border-sky-500 border-b-4 active:border-b-0",primaryOutline:"bg-white text-sky-500 hover:bg-slate-100",secondary:"bg-green-500 text-primary-foreground hover:bg-green-500/90 border-green-600 border-b-4 active:border-b-0",secondaryOutline:"bg-white text-green-500 hover:bg-slate-100",danger:"bg-rose-500 text-primary-foreground hover:bg-rose-500/90 border-rose-600 border-b-4 active:border-b-0",dangerOutline:"bg-white text-rose-500 hover:bg-slate-100",super:"bg-indigo-500 text-primary-foreground hover:bg-indigo-500/90 border-indigo-600 border-b-4 active:border-b-0",superOutline:"bg-white text-indigo-500 hover:bg-slate-100",ghost:"bg-transparent text-slate-500 border-transparent border-0 hover:bg-slate-100",sidebar:"bg-transparent text-slate-500 border-2 border-transparent hover:bg-slate-100 transition-none",sidebarOutline:"bg-sky-500/15 text-sky-500 border-sky-300 border-2 hover:bg-sky-500/20 transition-none"},size:{default:"h-11 px-4 py-2",sm:"h-9 px-3",lg:"h-12 px-8",icon:"h-10 w-10",rounded:"rounded-full"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:d=!1,...c}=e,x=d?l.g7:"button";return(0,s.jsx)(x,{className:(0,o.cn)(i({variant:n,size:a,className:r})),ref:t,...c})});d.displayName="Button"},5471:function(e,t,r){r.d(t,{x:function(){return _}});var s=r(5893),n=r(7294),l=r(5675),a=r.n(l),o=r(9332),i=r(725),d=r.n(i),c=r(2855),x=r(2234),g=r(4529);let u=(0,g.Ue)(e=>({isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})}));var b=r(4777),h=r(701);let f=e=>{let{text:t,imageSrc:r,audioSrc:l,shortcut:o,selected:i,onClick:d,status:x,disabled:g,type:u}=e,[f,p,m]=(0,c.Z)({src:l||""}),v=(0,n.useCallback)(()=>{g||(m.play(),d())},[g,d,m]);return(0,h.Z)(o,v,{},[v]),(0,s.jsxs)("div",{onClick:v,className:(0,b.cn)("h-full cursor-pointer rounded-xl border-2 border-b-4 p-4 hover:bg-black/5 active:border-b-2 lg:p-6",i&&"border-sky-300 bg-sky-100 hover:bg-sky-100",i&&"correct"===x&&"border-green-300 bg-green-100 hover:bg-green-100",i&&"wrong"===x&&"border-rose-300 bg-rose-100 hover:bg-rose-100",g&&"pointer-events-none hover:bg-white","ASSIST"===u&&"w-full lg:p-3"),children:[f,r&&(0,s.jsx)("div",{className:"relative mb-4 aspect-square max-h-[80px] w-full lg:max-h-[150px]",children:(0,s.jsx)(a(),{src:r,fill:!0,alt:t})}),(0,s.jsxs)("div",{className:(0,b.cn)("flex items-center justify-between","ASSIST"===u&&"flex-row-reverse"),children:["ASSIST"===u&&(0,s.jsx)("div",{"aria-hidden":!0}),(0,s.jsx)("p",{className:(0,b.cn)("text-sm text-neutral-600 lg:text-base",i&&"text-sky-500",i&&"correct"===x&&"text-green-500",i&&"wrong"===x&&"text-rose-500"),children:t}),(0,s.jsx)("div",{className:(0,b.cn)("flex h-[20px] w-[20px] items-center justify-center rounded-lg border-2 text-xs font-semibold text-neutral-400 lg:h-[30px] lg:w-[30px] lg:text-[15px]",i&&"border-sky-300 text-sky-500",i&&"correct"===x&&"border-green-500 text-green-500",i&&"wrong"===x&&"border-rose-500 text-rose-500"),children:o})]})]})},p=e=>{let{options:t,onSelect:r,status:n,selectedOption:l,disabled:a,type:o}=e;return(0,s.jsx)("div",{className:(0,b.cn)("grid gap-2","ASSIST"===o&&"grid-cols-1","SELECT"===o&&"grid-cols-2 lg:grid-cols-[repeat(auto-fit,minmax(0,1fr))]"),children:t.map((e,t)=>(0,s.jsx)(f,{id:Number(e.id),text:e.option,imageSrc:e.imageSrc,shortcut:"".concat(t+1),selected:l===e.id,onClick:()=>r(e.id),status:n,audioSrc:e.audioSrc,disabled:a,type:o},e.id))})};var m=r(3050),v=r(7695),j=r(6097),w=r(8778),y=r(1317);let N=e=>{let{onCheck:t,status:r,disabled:n,lessonId:l,isTest:a,isLesson:o,isPractice:i=!1}=e;(0,h.Z)("Enter",t,{},[t]);let d=(0,j.Z)("(max-width: 1024px)");return(0,s.jsx)("footer",{className:(0,b.cn)("h-[50px] border-t-2 lg:h-[140px]","correct"===r&&"border-transparent bg-green-100","wrong"===r&&"border-transparent bg-rose-100"),children:(0,s.jsxs)("div",{className:"mx-auto flex h-full max-w-[1140px] items-center justify-between px-6 lg:px-10",children:["correct"===r&&(0,s.jsxs)("div",{className:"flex items-center text-base font-bold text-green-500 lg:text-2xl",children:[(0,s.jsx)(m.Z,{className:"mr-4 h-6 w-6 lg:h-10 lg:w-10"}),"Nicely done!"]}),"wrong"===r&&(0,s.jsxs)("div",{className:"flex items-center text-base font-bold text-rose-500 lg:text-2xl",children:[(0,s.jsx)(v.Z,{className:"mr-4 h-6 w-6 lg:h-10 lg:w-10"}),"Wrong answer!"]}),"completed"===r&&!i&&(0,s.jsx)(w.z,{variant:"default",size:d?"sm":"lg",onClick:()=>{y.x.delete(y.j.LESSON_ID),a?window.location.href="/lesson":window.location.href="/lesson/".concat(l)},children:"Practice again"}),a?(0,s.jsx)(w.z,{className:"ml-auto",onClick:t,size:d?"sm":"lg",variant:"primary",children:"Continue"}):(0,s.jsxs)(w.z,{disabled:n,"aria-disabled":n,className:"ml-auto",onClick:t,size:d?"sm":"lg",variant:"wrong"===r?"danger":"secondary",children:["none"===r&&"Check","correct"===r&&"Next","wrong"===r&&o&&"Next","wrong"===r&&!o&&"Retry","completed"===r&&"Continue"]})]})})};var k=r(2190);let S=(0,g.Ue)(e=>({isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),onConfirm:()=>{window.location.href="/learn"}}));var C=r(1018);let O=n.forwardRef((e,t)=>{let{className:r,value:n,...l}=e;return(0,s.jsx)(C.fC,{ref:t,className:(0,b.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...l,children:(0,s.jsx)(C.z$,{className:"h-full w-full flex-1 bg-green-500 transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});O.displayName=C.fC.displayName;let I=e=>{let{percentage:t}=e,{isOpen:r,open:n,close:l,onConfirm:a}=S();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("header",{className:"mx-auto flex w-full max-w-[1140px] items-center justify-between gap-x-7 px-10 pt-[20px] lg:pt-[50px]",children:[(0,s.jsx)(k.Z,{onClick:n,className:"cursor-pointer text-slate-500 transition hover:opacity-75"}),(0,s.jsx)(O,{value:t})]}),r&&(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg",children:[(0,s.jsx)("p",{children:"Are you sure you want to exit?"}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end gap-4",children:[(0,s.jsx)("button",{onClick:l,className:"px-4 py-2 bg-gray-300 rounded",children:"No"}),(0,s.jsx)("button",{onClick:a,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Yes"})]})]})})]})},Z=e=>{let{question:t}=e;return(0,s.jsxs)("div",{className:"mb-6 flex items-center gap-x-4",children:[(0,s.jsx)(a(),{src:"https://d35aaqx5ub95lt.cloudfront.net/vendor/0cecd302cf0bcd0f73d51768feff75fe.svg",alt:"Mascot",height:60,width:60,className:"hidden lg:block"}),(0,s.jsx)(a(),{src:"https://d35aaqx5ub95lt.cloudfront.net/vendor/0cecd302cf0bcd0f73d51768feff75fe.svg",alt:"Mascot",height:40,width:40,className:"block lg:hidden"}),(0,s.jsxs)("div",{className:"relative rounded-xl border-2 px-4 py-2 text-sm lg:text-base",children:[t,(0,s.jsx)("div",{className:"absolute -left-3 top-1/2 h-0 w-0 -translate-y-1/2 rotate-90 transform border-x-8 border-t-8 border-x-transparent","aria-hidden":!0})]})]})};var z=r(3051);let T=e=>{let{value:t,variant:r}=e;return(0,s.jsxs)("div",{className:(0,b.cn)("w-full rounded-2xl border-2","points"===r&&"border-orange-400 bg-orange-400","hearts"===r&&"border-rose-500 bg-rose-500"),children:[(0,s.jsx)("div",{className:(0,b.cn)("rounded-t-xl p-1.5 text-center text-xs font-bold uppercase text-white","points"===r&&"bg-orange-400","hearts"===r&&"bg-rose-500"),children:"hearts"===r?"Hears Left":"Total XP"}),(0,s.jsxs)("div",{className:(0,b.cn)("flex items-center justify-center rounded-2xl bg-white p-6 text-lg font-bold","points"===r&&"text-orange-400","hearts"===r&&"text-rose-500"),children:[(0,s.jsx)(a(),{src:"points"===r?"https://d35aaqx5ub95lt.cloudfront.net/images/goals/2b5a211d830a24fab92e291d50f65d1d.svg":"https://d35aaqx5ub95lt.cloudfront.net/images/hearts/8fdba477c56a8eeb23f0f7e67fdec6d9.svg",alt:r,height:30,width:30,className:"mr-1.5"}),t===1/0?(0,s.jsx)(z.Z,{className:"h-6 w-6 stroke-[3]"}):t]})]})},_=e=>{var t,r;let{initialPercentage:l,initialLessonId:i,initialLessonChallenges:g,isTest:b=!1,isLesson:h=!1,isPractice:f=!1}=e,[m,,v]=(0,c.Z)({src:"/correct.wav"}),[j,,w]=(0,c.Z)({src:"/incorrect.wav"}),[k]=(0,c.Z)({src:"/finish.mp3",autoPlay:!0}),{width:S,height:C}=(0,x.Z)(),O=(0,o.useRouter)(),[z,_]=(0,n.useTransition)(),{open:E}=u();(0,n.useEffect)(()=>{100===l&&E()},[l,E]);let[q,A]=(0,n.useState)(0),[D]=(0,n.useState)(i),[L,F]=(0,n.useState)(()=>100===l?0:l),[P,R]=(0,n.useState)(g),[Y,M]=(0,n.useState)(()=>{let e=P.findIndex(e=>!e.completed);return -1===e?0:e}),[U,W]=(0,n.useState)(),[X,B]=(0,n.useState)("none"),G=P[Y],H=null!==(t=null==G?void 0:G.challengeOptions)&&void 0!==t?t:[],V=()=>{M(e=>e+1)};if(!G)return(0,s.jsxs)(s.Fragment,{children:[k,(0,s.jsx)(d(),{recycle:!1,numberOfPieces:500,tweenDuration:1e4,width:S,height:C}),(0,s.jsxs)("div",{className:"mx-auto flex h-full max-w-lg flex-col items-center justify-center gap-y-4 text-center lg:gap-y-8",children:[!(b&&q<P.length/2)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{src:"/finish.svg",alt:"Finish",className:"hidden lg:block",height:100,width:100}),(0,s.jsx)(a(),{src:"/finish.svg",alt:"Finish",className:"block lg:hidden",height:100,width:100})]}),b&&q<P.length/2?(0,s.jsx)("h1",{className:"text-lg font-bold text-neutral-700 lg:text-3xl",children:"You've failed the lesson \uD83E\uDD72"}):(0,s.jsxs)("h1",{className:"text-lg font-bold text-neutral-700 lg:text-3xl",children:["Great job! ",(0,s.jsx)("br",{})," You've completed the lesson."]}),!f&&(0,s.jsx)("div",{className:"flex w-full items-center gap-x-4",children:(0,s.jsx)(T,{variant:"points",value:10*q})})]}),(0,s.jsx)(N,{lessonId:D,status:"completed",onCheck:()=>{y.x.delete(y.j.LESSON_ID),f?O.push("/practice"):O.push("/learn")},isTest:b,isLesson:h,isPractice:f})]});let $="ASSIST"===G.type?"Select the correct meaning":G.question;return(0,s.jsxs)(s.Fragment,{children:[j,m,(0,s.jsx)(I,{percentage:L}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,s.jsxs)("div",{className:"flex w-full flex-col gap-y-12 px-6 lg:min-h-[350px] lg:w-[600px] lg:px-0",children:[(0,s.jsx)("h1",{className:"text-center text-lg font-bold text-neutral-700 lg:text-start lg:text-3xl",children:$}),(0,s.jsxs)("div",{children:["ASSIST"===G.type&&(0,s.jsx)(Z,{question:null!==(r=G.question)&&void 0!==r?r:""}),(0,s.jsx)(p,{options:H,onSelect:e=>{"none"===X&&W(e)},status:X,selectedOption:U,disabled:z,type:G.type})]})]})})}),(0,s.jsx)(N,{disabled:z||!U,status:X,onCheck:()=>{if(!U)return;if("wrong"===X){h&&V(),B("none"),W(void 0);return}if("correct"===X){V(),B("none"),W(void 0);return}let e=H.find(e=>e.isCorrect);if(e){if(b){e.id===U&&(A(q+1),R(e=>e.map(e=>G&&e.id===G.id?{...e,completed:!0}:e))),F(e=>e+100/P.length),V(),W(void 0);return}e.id===U?(v.play(),A(q+1),B("correct"),F(e=>e+100/P.length),R(e=>e.map(e=>G&&e.id===G.id?{...e,completed:!0}:e))):(w.play(),B("wrong"),h&&F(e=>e+100/P.length))}},isTest:b,isLesson:h})]})}},4777:function(e,t,r){r.d(t,{cn:function(){return l}});var s=r(512),n=r(8388);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}r(6118)},1317:function(e,t,r){r.d(t,{j:function(){return s},x:function(){return n}});let s={LESSON_ID:"lesson_id"},n={set:(e,t)=>{sessionStorage.setItem(e,t)},get:e=>sessionStorage.getItem(e),delete:e=>{sessionStorage.removeItem(e)}}}}]);