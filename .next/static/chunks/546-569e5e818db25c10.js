"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{547:function(e,t,s){s.d(t,{d7:function(){return a}});let a=e=>[{id:1,unitId:1,order:1,status:"",type:"flashcard",xpReward:100,challenges:[{id:1,word:"Ephemeral",meaning:"Lasting for a very short time"},{id:2,word:"Ubiquitous",meaning:"Present, appearing, or found everywhere"},{id:3,word:"Serendipity",meaning:"The occurrence of events by chance in a happy way"}]},{id:2,unitId:1,order:2,status:"",type:"lesson",xpReward:10,challenges:[{id:1,question:"Question 1",challengeOptions:[{id:1,option:"text 1",isCorrect:!0},{id:2,option:"text 2",isCorrect:!1},{id:3,option:"text 3",isCorrect:!1},{id:4,option:"text 4",isCorrect:!1}],completed:!1,type:"SELECT"},{id:2,question:"Question 2",challengeOptions:[{id:1,option:"text 1",isCorrect:!0},{id:2,option:"text 2",isCorrect:!1},{id:3,option:"text 3",isCorrect:!1},{id:4,option:"text 4",isCorrect:!1}],completed:!1,type:"SELECT"}]},{id:3,unitId:1,order:3,status:"",type:"test",xpReward:10,challenges:[{id:1,question:"Question 1",challengeOptions:[{id:1,option:"text 1",isCorrect:!0},{id:2,option:"text 2",isCorrect:!1},{id:3,option:"text 3",isCorrect:!1},{id:4,option:"text 4",isCorrect:!1}],completed:!1,type:"SELECT"},{id:2,question:"Question 2",challengeOptions:[{id:1,option:"text 1",isCorrect:!0},{id:2,option:"text 2",isCorrect:!1},{id:3,option:"text 3",isCorrect:!1},{id:4,option:"text 4",isCorrect:!1}],completed:!1,type:"SELECT"}]}].filter(t=>t.id===e)[0]},4430:function(e,t,s){var a=s(5893),n=s(645),i=s.n(n),r=s(7294),c=s(5346),l=s(1317),o=s(1163);t.Z=e=>{var t,s;let[n,d]=(0,r.useState)(e.initFlashCards),[u,x]=(0,r.useState)(0),[h,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[f,j]=(0,r.useState)(""),[w,b]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1),N=(0,r.useRef)(null),C=(0,o.useRouter)();(0,r.useEffect)(()=>{N.current&&N.current.focus()},[u]);let S=()=>{g||m(!h)},k=()=>{m(!1),x(e=>(e+1)%n.length)},E=()=>{m(!1),x(e=>(e-1+n.length)%n.length)},L=async()=>{try{return v(!0),l.x.get(l.j.LESSON_ID),l.x.delete(l.j.LESSON_ID),await C.push("/learn")}catch(e){}};return(0,a.jsxs)("div",{className:"jsx-c983c0e393ce0569 min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-8",children:[(0,a.jsxs)("div",{className:"jsx-c983c0e393ce0569 mx-auto max-w-4xl",children:[(0,a.jsxs)("div",{className:"jsx-c983c0e393ce0569 mb-8 text-center",children:[(0,a.jsx)("h1",{className:"jsx-c983c0e393ce0569 mb-4 text-4xl font-bold text-gray-800",children:"Flashcards"}),!y&&(0,a.jsxs)("p",{className:"jsx-c983c0e393ce0569 text-gray-600",children:["Card ",u+1," of ",n.length]})]}),y?(0,a.jsxs)("div",{className:"jsx-c983c0e393ce0569 flex flex-col items-center justify-center space-y-4",children:[(0,a.jsx)(c.FJM,{className:"animate-bounce text-6xl text-green-500"}),(0,a.jsx)("h2",{className:"jsx-c983c0e393ce0569 text-2xl font-bold text-green-600",children:"Congratulations!"}),(0,a.jsx)("p",{className:"jsx-c983c0e393ce0569 text-gray-600",children:"You have completed the flashcard set!"})]}):(0,a.jsx)("div",{ref:N,tabIndex:0,onKeyDown:e=>{"ArrowLeft"===e.key?E():"ArrowRight"===e.key?k():" "===e.key&&(e.preventDefault(),S())},"aria-label":"Flashcard",className:"jsx-c983c0e393ce0569 relative mx-auto aspect-[3/2] w-full max-w-2xl",children:(0,a.jsxs)("div",{onClick:S,className:"jsx-c983c0e393ce0569 "+"preserve-3d h-full w-full transform-gpu cursor-pointer transition-transform duration-700 ".concat(h?"rotate-y-180":""),children:[(0,a.jsx)("div",{className:"jsx-c983c0e393ce0569 backface-hidden absolute flex h-full w-full items-center justify-center rounded-xl bg-white p-8 shadow-2xl",children:g?(0,a.jsx)("input",{type:"text",value:f,onChange:e=>j(e.target.value),autoFocus:!0,className:"jsx-c983c0e393ce0569 w-full text-center text-4xl font-bold outline-none"}):(0,a.jsx)("h2",{className:"jsx-c983c0e393ce0569 text-4xl font-bold text-gray-800",children:null===(t=n[u])||void 0===t?void 0:t.word})}),(0,a.jsx)("div",{className:"jsx-c983c0e393ce0569 backface-hidden rotate-y-180 absolute flex h-full w-full items-center justify-center rounded-xl bg-white p-8 shadow-2xl",children:g?(0,a.jsx)("textarea",{value:w,onChange:e=>b(e.target.value),className:"jsx-c983c0e393ce0569 h-full w-full resize-none text-center text-2xl outline-none"}):(0,a.jsx)("p",{className:"jsx-c983c0e393ce0569 text-2xl text-gray-600",children:null===(s=n[u])||void 0===s?void 0:s.meaning})})]})}),!y&&(0,a.jsxs)("div",{className:"jsx-c983c0e393ce0569 mt-8 flex items-center justify-center gap-4",children:[(0,a.jsx)("button",{onClick:E,"aria-label":"Previous card",className:"jsx-c983c0e393ce0569 rounded-full bg-white p-3 shadow-md transition-shadow hover:shadow-lg",children:(0,a.jsx)(c.bUI,{className:"text-gray-600"})}),(0,a.jsx)("button",{onClick:()=>{if(g)d(n.map((e,t)=>t===u?{...e,word:f,meaning:w}:e));else{var e,t;j((null===(e=n[u])||void 0===e?void 0:e.word)||""),b((null===(t=n[u])||void 0===t?void 0:t.meaning)||"")}p(!g)},"aria-label":"Edit card",className:"jsx-c983c0e393ce0569 rounded-full bg-white p-3 shadow-md transition-shadow hover:shadow-lg",children:(0,a.jsx)(c.KHI,{className:"text-gray-600"})}),(0,a.jsx)("button",{onClick:()=>{if(n.length>1){let e=n.filter((e,t)=>t!==u);d(e),x(Math.min(u,e.length-1))}},"aria-label":"Delete card",className:"jsx-c983c0e393ce0569 rounded-full bg-white p-3 shadow-md transition-shadow hover:shadow-lg",children:(0,a.jsx)(c.Xm5,{className:"text-gray-600"})}),(0,a.jsx)("button",{onClick:()=>{d([...n].sort(()=>Math.random()-.5)),x(0),m(!1)},"aria-label":"Shuffle cards",className:"jsx-c983c0e393ce0569 rounded-full bg-white p-3 shadow-md transition-shadow hover:shadow-lg",children:(0,a.jsx)(c.zLx,{className:"text-gray-600"})}),(0,a.jsx)("button",{onClick:()=>{let e={id:n.length+1,word:"New Word",meaning:"New Meaning"};d([...n,e])},"aria-label":"Add new card",className:"jsx-c983c0e393ce0569 rounded-full bg-white p-3 shadow-md transition-shadow hover:shadow-lg",children:(0,a.jsx)(c.wEH,{className:"text-gray-600"})}),(0,a.jsx)("button",{onClick:k,"aria-label":"Next card",className:"jsx-c983c0e393ce0569 rounded-full bg-white p-3 shadow-md transition-shadow hover:shadow-lg",children:(0,a.jsx)(c.Dli,{className:"text-gray-600"})}),(0,a.jsx)("button",{onClick:L,"aria-label":"Complete learning",className:"jsx-c983c0e393ce0569 rounded-full bg-green-500 p-3 text-white shadow-md transition-all hover:bg-green-600 hover:shadow-lg",children:(0,a.jsx)(c.FJM,{className:"text-xl"})})]})]}),(0,a.jsx)(i(),{id:"c983c0e393ce0569",children:".rotate-y-180.jsx-c983c0e393ce0569{-webkit-transform:rotatey(180deg);-moz-transform:rotatey(180deg);-ms-transform:rotatey(180deg);-o-transform:rotatey(180deg);transform:rotatey(180deg)}.backface-hidden.jsx-c983c0e393ce0569{-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}.preserve-3d.jsx-c983c0e393ce0569{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d}"})]})}},6546:function(e,t,s){s.r(t),s.d(t,{LESSON_TYPE:function(){return n},__N_SSP:function(){return u}});var a,n,i=s(5893),r=s(9332),c=s(547),l=s(5471),o=s(4430),d=s(7294),u=!0;(a=n||(n={})).FLASHCARD="flashcard",a.LESSON="lesson",a.TEST="test",t.default=e=>{let{lessonId:t}=e,[s,a]=(0,d.useState)(void 0),[n,u]=(0,d.useState)(!0),x=(0,r.useRouter)();if((0,d.useEffect)(()=>{(async e=>{try{return await (0,c.d7)(Number(e))}catch(e){console.log(e),x.push("/learn");return}finally{u(!1)}})(t).then(e=>{e&&a(e)})},[t,x]),n)return(0,i.jsx)("p",{children:"Loading..."});if(!s)return(0,i.jsx)("p",{children:"Lesson not found"});if("flashcard"===s.type)return(0,i.jsx)(o.Z,{initFlashCards:s.challenges});let h=s.challenges.filter(e=>"completed"in e&&e.completed).length/s.challenges.length*100;return(0,i.jsx)(l.x,{initialLessonId:Number(s.id),initialLessonChallenges:s.challenges.map(e=>({...e,id:Number(e.id),challengeId:"challengeId"in e?Number(e.challengeId):0,text:"word"in e?e.word:"",correct:"meaning"in e?e.meaning:"",question:"question"in e?e.question:void 0,imageSrc:"imageSrc"in e?e.imageSrc:"",audioSrc:"audioSrc"in e?e.audioSrc:"",challengeOptions:"challengeOptions"in e?e.challengeOptions.map(t=>({...t,challengeId:Number(e.id),imageSrc:"imageSrc"in t?t.imageSrc:"",audioSrc:"audioSrc"in t?t.audioSrc:""})):[],completed:"completed"in e&&e.completed,type:"type"in e?e.type:""})),initialPercentage:h,isTest:"test"===s.type,isLesson:"lesson"===s.type})}}}]);